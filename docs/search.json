{
  "articles": [
    {
      "path": "about.html",
      "title": "Metodología",
      "description": "Hemos desarrollado una metodología de medición cuantitativa y cualitativa para investigar si hay un efecto diferente por sexo o género en los programas y proyectos STEM de Plan Ceibal. También sistematizamos la evidencia empírica disponible generando información y conocimiento, a través del diseño y medición de un conjunto de indicadores.",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n",
      "last_modified": "2022-01-14T09:45:25+00:00"
    },
    {
      "path": "cd.html",
      "title": "Género y TIC",
      "description": "Información sobre el programa \"Género y TIC\" de Ciudadanía Digital.\nLa propuesta busca dar a conocer mujeres que han incursionado en el mundo de las TIC de forma destacada (exitosa/novedosa) para difundir las diferentes posibilidades de estudio y trabajo en tecnología, e incentivar a niñas, niños y jóvenes a incursionar en el área. Fue creado en 2018.\n",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n{\"x\":{\"diagram\":\"digraph {\\n# dot, circo, twopi, neato\\n  #graph [layout = dot, rankdir = ]\\n  graph [layout = dot, rankdir = TB, overlap = False]\\n  #shape = rpromoter, folder, cds\\n  node [shape = plaintext, fontname=Verdana, fontcolor=DarkGrey, margin =0.25]    \\n  \\n  n0 [label = \\\"Ciudadanía Digital\\\"]\\n  \\n  n1 [label = \\\"Género y TIC\\\"]\\n\\n  # edge definitions with the node IDs\\n  edge [color=grey]\\n  \\n   n0 -> n1\\n\\n   \\n  \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]}\r\nFigure 1: Ciudadanía Digital\r\n\r\n\r\n\r\nPiloto Género y TIC: Informe 2019- 2020\r\nIntroducción\r\nEl presente informe tiene como objetivo dar cuenta del desarrollo del piloto sobre Género y TIC en educación, que abarcó el desarrollo del Ciclo de Videoconferencias Género y TIC, así como actividades para docentes sobre la integración de perspectiva de género en el trabajo con tecnología en el aula, en el período 2019 - 2020. Equipo de trabajo: Nerey Long, Lucía Fernández, Natalia Moraes, Milena Delgado, Noelia Vizuete, Lucía Menyou, Camila Bouyssounade, Patricia Goñez, Pablo Pagés, Patricia Brown.\r\nDesde el programa Aprender Todos se promueve la generación de espacios y estrategias que permitan una mayor apropiación de los recursos digitales y de Plan Ceibal disponibles, para el aprendizaje y la inclusión social, a través de estrategias participativas que promuevan su uso significativo. En ese recorrido mediado por la intervención de tecnología, se promueve la participación igualitaria de niños, niñas y jóvenes para el ejercicio de una ciudadanía digital plena. así como en pos de favorecer la reducción de la brecha de género en áreas STEM. El programa asume el desafío de fortalecer las intervenciones de manera que ofrezcan espacios de participación para niñas, niños y jóvenes y apoye a los docentes en el desarrollo de estas estrategias y proyectos.\r\nEn esta línea, Plan Ceibal integra la Mesa Interinstitucional de Mujeres en Ciencia, Tecnología e Innovación, que forma parte del Proyecto Internacional SAGA-UNESCO. Esta iniciativa busca contribuir a la mejora de las condiciones y oportunidades para la participación y acceso de las mujeres en los distintos ciclos educativos en campos asociados a dichas áreas, en todos los niveles de los sistemas nacionales de investigación, y en las estructuras productivas e institucionales que permitan deconstruir roles y estereotipos de género que parecen operar “naturalmente”.\r\n2) Desarrollo\r\nDescripción general de la propuesta\r\nLa propuesta de Ciclo de videoconferencias consiste en la realización de entrevistas e intercambios con mujeres destacadas en el área de las TIC (preferentemente uruguayas), con la participación de grupos de estudiantes y docentes a través de videoconferencia.\r\nEn cada encuentro participa una mujer del área de las TIC que comparte su experiencia y trayecto en la temática, con los grupos de estudiantes, quienes tienen la oportunidad de realizar preguntas. La propuesta implica la preparación del grupo de estudiantes para participar en el intercambio. Estas actividades previas poseen soporte desde la plataforma Crea, mediante foros de discusión, materiales de consulta y orientación para el desarrollo de actividades.\r\nSe realiza de forma virtual, contemplando actividades desde plataforma Crea así como la posibilidad de conexión a las videoconferencias desde los hogares.\r\nEl ciclo está destinado a alumnos de 5to. y 6to. educación primaria, y 1ro. y 2do. educación media, con docente a cargo. El lanzamiento de la propuesta se realizó cada año el cuarto jueves del mes de abril, fecha en que se celebra el Día Internacional de las Niñas en las TIC y se llevan a cabo diferentes actividades a nivel mundial, para promover la participación de niñas y jóvenes en estas áreas.\r\nObjetivos del programa\r\nDar a conocer mujeres que han incursionado en el mundo de las TIC de forma destacada (exitosa/novedosa) para difundir las diferentes posibilidades de estudio y trabajo en tecnología, e incentivar a niñas, niños y jóvenes a incursionar en el área.\r\nInvolucrar a estudiantes y docentes en actividades de investigación sobre la participación de mujeres en áreas de tecnología, los desafíos que afrontan y los beneficios de una participación equitativa.\r\nGenerar espacios de reflexión a partir del intercambio a nivel del grupo de estudiantes y en la instancia de intercambio por videoconferencia, con otros grupos de estudiantes y la persona invitada al encuentro.\r\nPromover el desarrollo de actividades en CREA, así como el aprovechamiento de otros recursos ofrecidos por Plan Ceibal.\r\nActividades realizadas\r\na) Ciclo de videoconferencias\r\nEjecución 2019 - Abril/Noviembre\r\nSe recibieron 63 postulaciones, de las cuales se confirmaron 39 participaciones que involucraron a 35 centros educativos de 15 departamentos. Estimamos un promedio de 6,5 centros participando por encuentro. Se registraron 1050 estudiantes participando.\r\nSe realizaron 6 intercambios por videoconferencia, con apoyo de actividades desde plataforma Crea.\r\nLas invitadas fueron: Sofía Donner, Intérprete visual, ilustradora, y diseñadora.\r\nMónica Marín, Doctora en Bioquímica, Investigadora y Decana de Facultad de Ciencias, UdelaR.\r\nAlicia Carriquiri, Ingeniera Agrónoma, Doctora en Estadística y Genética Animal, Directora del Centro de Estadística y Aplicaciones en Evidencia Forence en el estado de Iowa en Estados Unidos.\r\nSofía Battegazzore, Emprendedora y Productora de Videojuegos.\r\nAgustina Sartori,Ingeniera telemática y Co-fundadora y Gerente de GlamST, una plataforma uruguaya de maquillaje virtual.\r\nFlorencia Grattarola. Bióloga e Investigadora. Estudiante de Doctorado en el área de Ecología y Evolución, en la Universidad de Lincoln, Reino Unido.\r\nEjecución 2020 - Agosto/Octubre\r\nSe recibieron 34 postulaciones, de las cuales se confirmaron 23 participaciones que involucraron a 21 centros educativos de 10 departamentos. Estimamos un promedio de 8 centros participando por encuentro. Se registraron 312 estudiantes y 30 docentes participando.\r\nSe realizaron 3 intercambios por videoconferencia, cada uno con sus actividades previas y posteriores. Las invitadas fueron:\r\nPaula Enciso, Bioquímica, docente e investigadora en Facultad de Ciencias UdelaR y docente en Universidad Tecnológica\r\nVirginia Robano, Economista, se desempeña en áreas de ciencia de datos e implementación de políticas de desarrollo económico y mercado laboral.\r\nGime “Alaska”, generadora de contenido para youtube, conductora de C+ Maratón Transmedia.\r\nEl equipo Ceibal coordinó la participación de las entrevistadas así como la convocatoria y confirmación de los centros educativos, liderando el desarrollo de los intercambios. Luego se acompañó la participación de los mismos y posteriormente se atendieron consultas y evaluación.\r\nActividades formativas dirigidas a docentes\r\nEn el marco de la Escuela de verano 2020 se realizó el taller “Género y TIC en educación: espacio de reflexión y construcción”. Dirigido a docentes interesados en la temática, contó con 35 participantes. Se realizó el Seminario virtual “Educación, Género y TIC: reflexiones, aprendizajes y orientaciones para la acción”, con la participación de Anabella Benedetti, Investigadora de la Cátedra Regional Unesco Mujer, Ciencia y Tecnología en América Latina (Flacso, Argentina). Este seminario se realizó el día 23 de abril de 2020, para celebrar el día internacional de las niñas en las TIC y ofició como lanzamiento del Ciclo de videoconferencias Género y TIC. El seminario se transmitió en vivo a través del canal de Youtube de Plan Ceibal. Contó con 80 participantes en vivo y más de 1500 visualizaciones posteriores. Realización del webinar “Género y TIC en educación” - Belén Fernández - 1er encuentro. Dirigido a estudiantes de formación docente y docentes en general, contó con la participación en vivo de 250 personas y 170 visualizaciones posteriores. Fue realizado a través de vivo de Instagram de Plan Ceibal. Realización de webinar “Género y TIC en educación” - Elisa Cristi - 2do encuentro. Dirigido a estudiantes de formación docente y docentes en general, contó con la participación en vivo de 150 personas y 156 visualizaciones posteriores. Fue realizado a través de vivo de Instagram de Plan Ceibal.\r\nAvance en relación a las metas\r\nMeta Dato a Diciembre 2020 Grado de cumplimiento cantidad encuentros por vc 9 cumplido cantidad de estudiantes participantes 1362 cumplido\r\nBalance y perspectivas\r\nDificultades\r\nEl contexto de pandemia y las decisiones de ajuste de la propuesta priorizaron la modalidad de trabajo, entendiendo que el trabajo de todo el grupo de clase con la orientación del docente a cargo es una fortaleza de la propuesta. Esto implicó un ajuste en el cronograma, en cuanto a fechas y cantidad de encuentros, que afectó la cantidad de estudiantes y docentes involucrados en relación a ediciones anteriores. Destacamos que aumentó el promedio de grupos participando por encuentro. Ha sido un desafío el seguimiento posterior a la VC para conocer la amplificación que puede tener la propuesta luego del intercambio.\r\nOportunidades\r\nA partir de la situación de emergencia sanitaria y las consecuencias en el ámbito educativo, se reformuló el calendario de trabajo el cual se concentró entre los meses de agosto y octubre, y se redujo la cantidad de intercambios a la mitad. Esto buscó mantener la modalidad de trabajo en la cual el grupo de estudiantes participa de forma conjunta en la videoconferencia, entendiendo que favorece el dinamismo y la participación activa de los grupos durante el intercambio. Se aumentó el tiempo de trabajo previo al intercambio en la plataforma, para favorecer la participación de los estudiantes, considerando la alternancia en la asistencia a los centros y la modalidad de trabajo combinada virtual/presencial. Satisfacción de los centros participantes con la propuesta. Los docentes valoraron la propuesta, destacando la disposición y calidad de los materiales disponibles en plataforma en Crea así como la calidad del intercambio y la oportunidad que significó para los estudiantes intercambiar directamente con las invitadas en cada encuentro. Alto impacto y bajo costo de la propuesta. Se evalúa positivamente en términos de organización de los encuentros, la inscripción temprana. La confirmación de participantes se vio agilizada. Los docentes valoraron positivamente el tiempo disponible para preparar la participación en el intercambio, a partir de los materiales en plataforma Crea. Destacamos que se logró la participación de centros que no contaban con equipo de videoconferencia, a partir de la articulación del sistema con plataforma webex. Se destaca positivamente la integración del equipo que ha liderado el desarrollo de las propuestas, destacando el trabajo colaborativo, el aporte de diversas miradas y disciplinas.\r\nDesafíos 2021\r\nEn relación al Ciclo de videoconferencias:\r\nPromover en mayor medida que la propuesta se encuentre presente en los proyectos desarrollados por los centros educativos.\r\nPotenciar la difusión de la propuesta en territorio.\r\nEn cuanto al perfil de las entrevistadas, y a partir de resultados 2019 y 2020, mantener la atención a características que puedan representar mayor cercanía con los estudiantes. Mantener enlace con sistema webex para favorecer la participación de centros que no cuentan con equipo de videoconferencia, así como ante contingencias por pandemia, estudiantes que deban permanecer en sus hogares o grupos puedan participar. Integrar perspectiva de género en tecnología en el diseño de intervención y materiales de apoyo para los componentes Aprender Todos (Educación Media, Formación en Educación y Educación Primaria - Programa de Maestros Comunitarios). Articulación de la temática género y TIC con línea Ciudadanía Digital. Formación al equipo Referentes de Proyecto sobre la perspectiva de género en tecnología. Desarrollo de una propuesta formativa para docentes sobre perspectiva de género en enseñanza STEAM. Mantener un equipo de trabajo que contribuya en la profundización del abordaje de la temática en línea con el desarrollo de la Ciudadanía Digital.\r\nConclusiones\r\nEl desarrollo del piloto fue evaluado positivamente a partir del alcance de las metas y los resultados obtenidos. El contexto de pandemia implicó ajustes en el cronograma y ajustes técnicos, así como revisión de estrategias de comunicación, que favorecieron el desarrollo de la propuesta y redundaron en aprendizajes para un mejor aprovechamiento de la propuesta. La posibilidad de incluir la perspectiva de género en tecnología en el diseño de actividades para los componentes de Aprender Todos (Educación Media, CFE, PMC), aporta a la formación de los docentes así como fortalece el abordaje de la temática en proyectos de los centros educativos involucrados. A nivel del equipo de Referentes de Proyecto, las acciones de sensibilización sobre la integración de la perspectiva de género en el trabajo con tecnología en educación, aportan herramientas para la intervención en territorio. Concluimos que la integración de esta línea de trabajo tiene validez en tanto fortalece la integración de la perspectiva de género en el desarrollo de ciudadanía digital y la intervención a nivel de componentes. A la vez que enriquece la propuesta de formación desde el programa.\r\n\r\n\r\n\r\n",
      "last_modified": "2022-01-14T10:05:02+00:00"
    },
    {
      "path": "footer.html",
      "author": [],
      "contents": "\r\n\r\nA work by Virginia Robano\r\n\r\n\r\nvrobano@gmail.com\r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-01-14T09:41:22+00:00"
    },
    {
      "path": "glosario.html",
      "title": "Glosario",
      "description": "Presentamos un glosario (en construcción)",
      "author": [],
      "contents": "\r\n\r\n\r\n¿Cuáles son las áreas STEM?\r\n\r\n\r\n05 - Ciencias naturales, matemática y estadística\r\n\r\n\r\n06 - Tecnologías de la información y comunicación\r\n\r\n\r\n07 - Ingeniería, industria y construcción\r\n\r\nFuente: ONU Mujeres (2020)\r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-01-14T10:05:02+00:00"
    },
    {
      "path": "index.html",
      "title": "Indicadores de género en STEM, Plan Ceibal",
      "description": "¡Te damos la bienvenida al sitio web del tablero de indicadores de género en STEM!\n",
      "author": [],
      "contents": "\r\nEn este trabajo medimos el efecto de nueve programas STEM (ciencia, tecnología, ingeniería y matemática, por sus siglas en inglés) de Plan Ceibal por sexo o género.1\r\nPara medir de manera sistematizada, hemos desarrollado una metodología, con los siguientes objetivos específicos:\r\nProducir evidencia empírica que permita la toma de decisiones informadas, dentro y fuera de la institución\r\nCompartir esta evidencia para que pueda ser utilizada en sucesivos estudios\r\nSumarnos a la política de datos abiertos del gobierno.\r\nCompartir herramientas para promover la equidad de género en el área de STEM.\r\n\r\nSi bien nuestra variable de interés es género, variable de autopercepción y no dicotómica, cuando utilizamos información disponible de registros administrativos (por ejemplo la cédula de identidad), la variable de la que disponemos es sexo biológico. A medida que los registros tomen más información de género, sustituiremos los datos de sexo por los de género.↩︎\r\n",
      "last_modified": "2022-01-14T09:45:33+00:00"
    },
    {
      "path": "jap.html",
      "title": "JaP",
      "description": "Información sobre el programa \"Jóvenes a Programar, Álvaro Lamé\"",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n",
      "last_modified": "2022-01-14T09:40:54+00:00"
    },
    {
      "path": "tablero.html",
      "title": "Tablero de indicadores",
      "description": "Este tablero de indicadores de género cumple la doble función de **visibilizar** la situación de las niñas y mujeres en el área de STEM,y de **generar evidencia estadística** para realizar un monitoreo activo de las políticas implementadas.\n",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  Tablero de indicadores\r\n  \r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIndicadores de genero en programas STEM de Plan Ceibal\r\n\r\n\r\nHome\r\nMetodología\r\nTablero\r\nJaP\r\nGénero y TIC\r\nGlosario\r\n☰\r\n\r\n\r\n\r\n\r\nvar FlexDashboard = (function () {\r\n\r\n  // initialize options\r\n  var _options = {};\r\n\r\n  var FlexDashboard = function() {\r\n\r\n    // default options\r\n    _options = $.extend(_options, {\r\n      theme: \"cosmo\",\r\n      fillPage: false,\r\n      orientation: 'columns',\r\n      storyboard: false,\r\n      defaultFigWidth: 576,\r\n      defaultFigHeight: 461,\r\n      defaultFigWidthMobile: 360,\r\n      defaultFigHeightMobile: 461,\r\n      isMobile: false,\r\n      isPortrait: false,\r\n      resize_reload: true\r\n    });\r\n  };\r\n\r\n  function init(options) {\r\n\r\n    // extend default options\r\n    $.extend(true, _options, options);\r\n\r\n    // add ids to sections that don't have them (pandoc won't assign ids\r\n    // to e.g. sections with titles consisting of only chinese characters)\r\n    var nextId = 1;\r\n    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {\r\n      $(this).attr('id', 'dashboard-' + nextId++);\r\n    });\r\n\r\n    // find navbar items\r\n    var navbarItems = $('#flexdashboard-navbar');\r\n    if (navbarItems.length)\r\n      navbarItems = JSON.parse(navbarItems.html());\r\n    addNavbarItems(navbarItems);\r\n\r\n    // find the main dashboard container\r\n    var dashboardContainer = $('#dashboard-container');\r\n\r\n    // resolve mobile classes\r\n    resolveMobileClasses(dashboardContainer);\r\n\r\n    // one time global initialization for components\r\n    componentsInit(dashboardContainer);\r\n\r\n    // look for a global sidebar\r\n    var globalSidebar = dashboardContainer.find(\".section.level1.sidebar\");\r\n    if (globalSidebar.length > 0) {\r\n\r\n      // global layout for fullscreen displays\r\n      if (!isMobilePhone()) {\r\n\r\n         // hoist it up to the top level\r\n         globalSidebar.insertBefore(dashboardContainer);\r\n\r\n         // lay it out (set width/positions)\r\n         layoutSidebar(globalSidebar, dashboardContainer);\r\n\r\n      // tuck sidebar into first page for mobile phones\r\n      } else {\r\n\r\n        // convert it into a level3 section\r\n        globalSidebar.removeClass('sidebar');\r\n        globalSidebar.removeClass('level1');\r\n        globalSidebar.addClass('level3');\r\n        var h1 = globalSidebar.children('h1');\r\n        var h3 = $('<h3><\/h3>');\r\n        h3.append(h1.contents());\r\n        h3.insertBefore(h1);\r\n        h1.detach();\r\n\r\n        // move it into the first page\r\n        var page = dashboardContainer.find('.section.level1').first();\r\n        if (page.length > 0)\r\n          page.prepend(globalSidebar);\r\n      }\r\n    }\r\n\r\n    // look for pages to layout\r\n    var pages = $('div.section.level1');\r\n    if (pages.length > 0) {\r\n\r\n        // find the navbar and collapse on clicked\r\n        var navbar = $('#navbar');\r\n        navbar.on(\"click\", \"a[data-toggle!=dropdown]\", null, function () {\r\n           navbar.collapse('hide');\r\n        });\r\n\r\n        // envelop the dashboard container in a tab content div\r\n        dashboardContainer.wrapInner('<div class=\"tab-content\"><\/div>');\r\n\r\n        pages.each(function(index) {\r\n\r\n          // lay it out\r\n          layoutDashboardPage($(this));\r\n\r\n          // add it to the navbar\r\n          addToNavbar($(this), index === 0);\r\n\r\n        });\r\n\r\n    } else {\r\n\r\n      // remove the navbar and navbar button if we don't\r\n      // have any navbuttons\r\n      if (navbarItems.length === 0) {\r\n        $('#navbar').remove();\r\n        $('#navbar-button').remove();\r\n      }\r\n\r\n      // add the storyboard class if requested\r\n      if (_options.storyboard)\r\n        dashboardContainer.addClass('storyboard');\r\n\r\n      // layout the entire page\r\n      layoutDashboardPage(dashboardContainer);\r\n    }\r\n\r\n    // if we are in shiny we need to trigger a window resize event to\r\n    // force correct layout of shiny-bound-output elements\r\n    if (isShinyDoc())\r\n      $(window).trigger('resize');\r\n\r\n    // make main components visible\r\n    $('.section.sidebar').css('visibility', 'visible');\r\n    dashboardContainer.css('visibility', 'visible');\r\n\r\n    // handle location hash\r\n    handleLocationHash();\r\n\r\n    // intialize prism highlighting\r\n    initPrismHighlighting();\r\n\r\n    // record mobile and orientation state then register a handler\r\n    // to refresh if resize_reload is set to true and it changes\r\n    _options.isMobile = isMobilePhone();\r\n    _options.isPortrait = isPortrait();\r\n    if (_options.resize_reload) {\r\n      $(window).on('resize', function() {\r\n        if (_options.isMobile !== isMobilePhone() ||\r\n            _options.isPortrait !== isPortrait()) {\r\n          window.location.reload();\r\n        }\r\n      });\r\n    } else {\r\n      // if in desktop mode and resizing to mobile, make sure the heights are 100%\r\n      // This enforces what `fillpage.css` does for \"wider\" pages.\r\n      // Since we are not reloading once the page becomes small, we need to force the height to 100%\r\n      // This is a new situation introduced when `_options.resize_reload` is `false`\r\n      if (! _options.isMobile) {\r\n        // only add if `fillpage.css` was added in the first place\r\n        if (_options.fillPage) {\r\n          // fillpage.css\r\n          $(\"html,body,#dashboard\").css(\"height\", \"100%\");\r\n        }\r\n      }\r\n    }\r\n    // trigger layoutcomplete event\r\n    dashboardContainer.trigger('flexdashboard:layoutcomplete');\r\n  }\r\n\r\n  function resolveMobileClasses(dashboardContainer) {\r\n     // add top level layout class\r\n    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :\r\n                                                  'desktop-layout');\r\n\r\n    // look for .mobile sections and add .no-mobile to their peers\r\n    var mobileSections = $('.section.mobile');\r\n    mobileSections.each(function() {\r\n       var id = $(this).attr('id');\r\n       var nomobileId = id.replace(/-\\d+$/, '');\r\n       $('#' + nomobileId).addClass('no-mobile');\r\n    });\r\n  }\r\n\r\n  function addNavbarItems(navbarItems) {\r\n\r\n    var navbarLeft = $('ul.navbar-left');\r\n    var navbarRight = $('ul.navbar-right');\r\n\r\n    for (var i = 0; i<navbarItems.length; i++) {\r\n\r\n      // get the item\r\n      var item = navbarItems[i];\r\n\r\n      // determine the container\r\n      var container = null;\r\n      if (item.align === \"left\")\r\n        container = navbarLeft;\r\n      else\r\n        container = navbarRight;\r\n\r\n      // navbar menu if we have multiple items\r\n      if (item.items) {\r\n        var menu = navbarMenu(null, item.icon, item.title, container);\r\n        for (var j = 0; j<item.items.length; j++) {\r\n          var subItem = item.items[j];\r\n          var li = $('<li><\/li>');\r\n          li.append(navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target));\r\n          menu.append(li);\r\n        }\r\n      } else {\r\n        var li = $('<li><\/li>');\r\n        li.append(navbarLink(item.icon, item.title, item.href, item.target));\r\n        container.append(li);\r\n      }\r\n    }\r\n  }\r\n\r\n  // create or get a reference to an existing dropdown menu\r\n  function navbarMenu(id, icon, title, container) {\r\n    var existingMenu = [];\r\n    if (id)\r\n      existingMenu = container.children('#' + id);\r\n    if (existingMenu.length > 0) {\r\n      return existingMenu.children('ul');\r\n    } else {\r\n      var li = $('<li><\/li>');\r\n      if (id)\r\n        li.attr('id', id);\r\n      li.addClass('dropdown');\r\n      // auto add \"Share\" title on mobile if necessary\r\n      if (!title && icon && (icon === \"fa-share-alt\") && isMobilePhone())\r\n        title = \"Share\";\r\n      if (title) {\r\n        title = title + ' <span class=\"caret\"><\/span>';\r\n      }\r\n      var a = navbarLink(icon, title, \"#\");\r\n      a.addClass('dropdown-toggle');\r\n      a.attr('data-toggle', 'dropdown');\r\n      a.attr('role', 'button');\r\n      a.attr('aria-expanded', 'false');\r\n      li.append(a);\r\n      var ul = $('<ul class=\"dropdown-menu\"><\/ul>');\r\n      ul.attr('role', 'menu');\r\n      li.append(ul);\r\n      container.append(li);\r\n      return ul;\r\n    }\r\n  }\r\n\r\n  function addToNavbar(page, active) {\r\n\r\n    // capture the id and data-icon attribute (if any)\r\n    var id = page.attr('id');\r\n    var icon = page.attr('data-icon');\r\n    var navmenu = page.attr('data-navmenu');\r\n\r\n    // get hidden state (transfer this to navbar)\r\n    var hidden = page.hasClass('hidden');\r\n    page.removeClass('hidden');\r\n\r\n    // sanitize the id for use with bootstrap tabs\r\n    id = id.replace(/[.\\/?&!#<>]/g, '').replace(/\\s/g, '_');\r\n    page.attr('id', id);\r\n\r\n    // get the wrapper\r\n    var wrapper = page.closest('.dashboard-page-wrapper');\r\n\r\n    // move the id to the wrapper\r\n    page.removeAttr('id');\r\n    wrapper.attr('id', id);\r\n\r\n    // add the tab-pane class to the wrapper\r\n    wrapper.addClass('tab-pane');\r\n    if (active)\r\n      wrapper.addClass('active');\r\n\r\n    // get a reference to the h1, discover its inner contens, then detach it\r\n    var h1 = wrapper.find('h1').first();\r\n    var title = h1.contents();\r\n    h1.detach();\r\n\r\n    // create a navbar item\r\n    var li = $('<li><\/li>');\r\n    var a = navbarLink(icon, title, '#' + id);\r\n    a.attr('data-toggle', 'tab');\r\n    li.append(a);\r\n\r\n    // add it to the navbar (or navbar menu if specified)\r\n    var container = $('ul.navbar-left');\r\n    if (navmenu) {\r\n      var menuId = navmenu.replace(/\\s+/g, '');\r\n      var menu = navbarMenu(menuId, null, navmenu, container);\r\n      menu.append(li);\r\n    } else {\r\n      container.append(li);\r\n    }\r\n\r\n    // hide it if requested\r\n    if (hidden)\r\n      li.addClass('hidden');\r\n  }\r\n\r\n  function navbarLink(icon, title, href, target) {\r\n\r\n    var a = $('<a><\/a>');\r\n    if (icon) {\r\n\r\n      // get the name of the icon set and icon\r\n      var dashPos = icon.indexOf(\"-\");\r\n      var iconSet = null;\r\n      var iconSplit = icon.split(\" \");\r\n      if (iconSplit.length > 1) {\r\n        iconSet = iconSplit[0];\r\n        icon = iconSplit.slice(1).join(\" \");\r\n      } else {\r\n        iconSet = icon.substring(0, dashPos);\r\n      }\r\n      var iconName = icon.substring(dashPos + 1);\r\n\r\n      // create the icon\r\n      var iconElement = $('<span class=\"' + iconSet + ' ' + icon + '\"><\/span>');\r\n      if (title)\r\n        iconElement.css('margin-right', '7px');\r\n      a.append(iconElement);\r\n      // if href is null see if we can auto-generate based on icon (e.g. social)\r\n      if (!href)\r\n        maybeGenerateLinkFromIcon(iconName, a);\r\n    }\r\n    if (title)\r\n      a.append(title);\r\n\r\n    // add the href.\r\n    if (href) {\r\n      if (href === \"source_embed\") {\r\n        a.attr('href', '#');\r\n        a.attr('data-featherlight', \"#flexdashboard-source-code\");\r\n        a.featherlight({\r\n            beforeOpen: function(event){\r\n              $('body').addClass('unselectable');\r\n            },\r\n            afterClose: function(event){\r\n              $('body').removeClass('unselectable');\r\n            }\r\n        });\r\n      } else {\r\n        a.attr('href', href);\r\n      }\r\n    }\r\n\r\n    // add the arget\r\n    if (target)\r\n      a.attr('target', target);\r\n\r\n    return a;\r\n  }\r\n\r\n  // auto generate a link from an icon name (e.g. twitter) when possible\r\n  function maybeGenerateLinkFromIcon(iconName, a) {\r\n\r\n     var serviceLinks = {\r\n      \"twitter\": \"https://twitter.com/share?text=\" + encodeURIComponent(document.title) + \"&url=\"+encodeURIComponent(location.href),\r\n      \"facebook\": \"https://www.facebook.com/sharer/sharer.php?s=100&p[url]=\"+encodeURIComponent(location.href),\r\n      \"google-plus\": \"https://plus.google.com/share?url=\"+encodeURIComponent(location.href),\r\n      \"linkedin\": \"https://www.linkedin.com/shareArticle?mini=true&url=\"+encodeURIComponent(location.href) + \"&title=\" + encodeURIComponent(document.title),\r\n      \"pinterest\": \"https://pinterest.com/pin/create/link/?url=\"+encodeURIComponent(location.href) + \"&description=\" + encodeURIComponent(document.title)\r\n    };\r\n\r\n    var makeSocialLink = function(a, href) {\r\n      a.attr('href', '#');\r\n      a.on('click', function(e) {\r\n        e.preventDefault();\r\n        window.open(href);\r\n      });\r\n    };\r\n\r\n    $.each(serviceLinks, function(key, value) {\r\n      if (iconName.indexOf(key) !== -1)\r\n        makeSocialLink(a, value);\r\n    });\r\n  }\r\n\r\n  // layout a dashboard page\r\n  function layoutDashboardPage(page) {\r\n\r\n    // use a page wrapper so that free form content above the\r\n    // dashboard appears at the top rather than the side (as it\r\n    // would without the wrapper in a column orientation)\r\n    var wrapper = $('<div class=\"dashboard-page-wrapper\"><\/div>');\r\n    page.wrap(wrapper);\r\n\r\n    // if there are no level2 or level3 headers synthesize a level3\r\n    // header to contain the (e.g. frame it, scroll container, etc.)\r\n    var headers = page.find('h2,h3');\r\n    if (headers.length === 0)\r\n      page.wrapInner('<div class=\"section level3\"><\/div>');\r\n\r\n    // hoist up any content before level 2 or level 3 headers\r\n    var children = page.children();\r\n    children.each(function(index) {\r\n      if ($(this).hasClass('level2') || $(this).hasClass('level3'))\r\n        return false;\r\n      $(this).insertBefore(page);\r\n    });\r\n\r\n    // determine orientation and fillPage behavior for distinct media\r\n    var orientation, fillPage, storyboard;\r\n\r\n    // media: mobile phone\r\n    if (isMobilePhone()) {\r\n\r\n      // if there is a sidebar we need to ensure it's content\r\n      // is properly framed as an h3\r\n      var sidebar = page.find('.section.sidebar');\r\n      sidebar.removeClass('sidebar');\r\n      sidebar.wrapInner('<div class=\"section level3\"><\/div>');\r\n      var h2 = sidebar.find('h2');\r\n      var h3 = $('<h3><\/h3>');\r\n      h3.append(h2.contents());\r\n      h3.insertBefore(h2);\r\n      h2.detach();\r\n\r\n      // wipeout h2 elements then enclose them in a single h2\r\n      var level2 = page.find('div.section.level2');\r\n      level2.each(function() {\r\n        level2.children('h2').remove();\r\n        level2.children().unwrap();\r\n      });\r\n      page.wrapInner('<div class=\"section level2\"><\/div>');\r\n\r\n      // substitute mobile images\r\n      if (isPortrait()) {\r\n        var mobileFigures = $('img.mobile-figure');\r\n        mobileFigures.each(function() {\r\n          // get the src (might be base64 encoded)\r\n          var src = $(this).attr('src');\r\n\r\n          // find it's peer\r\n          var id = $(this).attr('data-mobile-figure-id');\r\n          var img = $('img[data-figure-id=' + id + \"]\");\r\n          img.attr('src', src)\r\n             .attr('width', _options.defaultFigWidthMobile)\r\n             .attr('height', _options.defaultFigHeightMobile);\r\n        });\r\n      }\r\n\r\n      // hoist storyboard commentary into it's own section\r\n      if (page.hasClass('storyboard')) {\r\n        var commentaryHR = page.find('div.section.level3 hr');\r\n        commentaryHR.each(function() {\r\n          var commentary = $(this).nextAll().detach();\r\n          var commentarySection = $('<div class=\"section level3\"><\/div>');\r\n          commentarySection.append(commentary);\r\n          commentarySection.insertAfter($(this).closest('div.section.level3'));\r\n          $(this).remove();\r\n        });\r\n      }\r\n\r\n      // force a non full screen layout by columns\r\n      orientation = _options.orientation = 'columns';\r\n      fillPage = _options.fillPage = false;\r\n      storyboard = _options.storyboard = false;\r\n\r\n    // media: desktop\r\n    } else {\r\n\r\n      // determine orientation\r\n      orientation = page.attr('data-orientation');\r\n      if (orientation !== 'rows' && orientation != 'columns')\r\n        orientation = _options.orientation;\r\n\r\n      // determine storyboard mode\r\n      storyboard = page.hasClass('storyboard');\r\n\r\n      // fillPage based on options (force for storyboard)\r\n      fillPage = _options.fillPage || storyboard;\r\n\r\n      // handle sidebar\r\n      var sidebar = page.find('.section.level2.sidebar');\r\n      if (sidebar.length > 0)\r\n        layoutSidebar(sidebar, page);\r\n    }\r\n\r\n    // give it and it's parent divs height: 100% if we are in fillPage mode\r\n    if (fillPage) {\r\n      page.addClass('vertical-layout-fill');\r\n      page.css('height', '100%');\r\n      page.parents('div').css('height', '100%');\r\n    } else {\r\n      page.addClass('vertical-layout-scroll');\r\n    }\r\n\r\n    // perform the layout\r\n    if (storyboard)\r\n      layoutPageAsStoryboard(page);\r\n    else if (orientation === 'rows')\r\n      layoutPageByRows(page, fillPage);\r\n    else if (orientation === 'columns')\r\n      layoutPageByColumns(page, fillPage);\r\n  }\r\n\r\n  function layoutSidebar(sidebar, content) {\r\n\r\n    // get it out of the header hierarchy\r\n    sidebar = sidebar.first();\r\n    if (sidebar.hasClass('level1')) {\r\n      sidebar.removeClass('level1');\r\n      sidebar.children('h1').remove();\r\n    } else if (sidebar.hasClass('level2')) {\r\n      sidebar.removeClass('level2');\r\n      sidebar.children('h2').remove();\r\n    }\r\n\r\n    // determine width\r\n    var sidebarWidth = isTablet() ? 220 : 250;\r\n    var dataWidth = parseInt(sidebar.attr('data-width'));\r\n    if (dataWidth)\r\n      sidebarWidth = dataWidth;\r\n\r\n    // set the width and shift the page right to accomodate the sidebar\r\n    sidebar.css('width', sidebarWidth + 'px');\r\n    content.css('padding-left', sidebarWidth + 'px');\r\n\r\n    // wrap it's contents in a form\r\n    sidebar.wrapInner($('<form><\/form>'));\r\n  }\r\n\r\n  function layoutPageAsStoryboard(page) {\r\n\r\n    // create storyboard navigation\r\n    var nav = $('<div class=\"storyboard-nav\"><\/div>');\r\n\r\n    // add navigation buttons\r\n    var prev = $('<button class=\"sbprev\"><i class=\"fa fa-angle-left\"><\/i><\/button>');\r\n    nav.append(prev);\r\n    var next= $('<button class=\"sbnext\"><i class=\"fa fa-angle-right\"><\/i><\/button>');\r\n    nav.append(next);\r\n\r\n    // add navigation frame\r\n    var frameList = $('<div class=\"sbframelist\"><\/div>');\r\n    nav.append(frameList);\r\n    var ul = $('<ul><\/ul>');\r\n    frameList.append(ul);\r\n\r\n     // find all the level3 sections (those are the storyboard frames)\r\n    var frames = page.find('div.section.level3');\r\n    frames.each(function() {\r\n\r\n      // mark it\r\n      $(this).addClass('sbframe');\r\n\r\n      // divide it into chart content and (optional) commentary\r\n      $(this).addClass('dashboard-column-orientation');\r\n\r\n      // stuff the chart into it's own div w/ flex\r\n      $(this).wrapInner('<div class=\"sbframe-component\"><\/div>');\r\n      setFlex($(this), 1);\r\n      var frame = $(this).children('.sbframe-component');\r\n\r\n      // extract the title from the h3\r\n      var li = $('<li><\/li>');\r\n      var h3 = frame.children('h3');\r\n      li.append(h3.contents());\r\n      h3.detach();\r\n      ul.append(li);\r\n\r\n      // extract commentary\r\n      var hr = frame.children('hr');\r\n      if (hr.length) {\r\n        var commentary = hr.nextAll().detach();\r\n        hr.remove();\r\n        var commentaryFrame = $('<div class=\"sbframe-commentary\"><\/div>');\r\n        commentaryFrame.addClass('flowing-content-shim');\r\n        commentaryFrame.addClass('flowing-content-container');\r\n        commentaryFrame.append(commentary);\r\n        $(this).append(commentaryFrame);\r\n\r\n        // look for a data-commentary-width attribute\r\n        var commentaryWidth = $(this).attr('data-commentary-width');\r\n        if (commentaryWidth)\r\n          commentaryFrame.css('width', commentaryWidth + 'px');\r\n      }\r\n\r\n      // layout the chart (force flex)\r\n      var result = layoutChart(frame, true);\r\n\r\n      // ice the notes if there are none\r\n      if (!result.notes)\r\n        frame.find('.chart-notes').remove();\r\n\r\n      // set flex on chart\r\n      setFlex(frame, 1);\r\n    });\r\n\r\n    // create a div to hold all the frames\r\n    var frameContent = $('<div class=\"sbframe-content\"><\/div>');\r\n    frameContent.addClass('dashboard-row-orientation');\r\n    frameContent.append(frames.detach());\r\n\r\n    // row orientation to stack nav and frame content\r\n    page.addClass('dashboard-row-orientation');\r\n    page.append(nav);\r\n    page.append(frameContent);\r\n    setFlex(frameContent, 1);\r\n\r\n    // initialize sly\r\n    var sly = new Sly(frameList, {\r\n    \t\thorizontal: true,\r\n    \t\titemNav: 'basic',\r\n    \t\tsmart: true,\r\n    \t\tactivateOn: 'click',\r\n    \t\tstartAt: 0,\r\n    \t\tscrollBy: 1,\r\n    \t\tactivatePageOn: 'click',\r\n    \t\tspeed: 200,\r\n    \t\tmoveBy: 600,\r\n    \t\tdragHandle: true,\r\n    \t\tdynamicHandle: true,\r\n    \t\tclickBar: true,\r\n    \t\tkeyboardNavBy: 'items',\r\n    \t\tnext: next,\r\n    \t\tprev: prev\r\n    \t}).init();\r\n\r\n    // make first frame active\r\n    frames.removeClass('active');\r\n    frames.first().addClass('active');\r\n\r\n    // subscribe to frame changed events\r\n    sly.on('active', function (eventName, itemIndex) {\r\n      frames.removeClass('active');\r\n      frames.eq(itemIndex).addClass('active')\r\n                          .trigger('shown');\r\n    });\r\n  }\r\n\r\n  function layoutPageByRows(page, fillPage) {\r\n\r\n    // row orientation\r\n    page.addClass('dashboard-row-orientation');\r\n\r\n    // find all the level2 sections (those are the rows)\r\n    var rows = page.find('div.section.level2');\r\n\r\n    // if there are no level2 sections then treat the\r\n    // entire page as if it's a level 2 section\r\n    if (rows.length === 0) {\r\n      page.wrapInner('<div class=\"section level2\"><\/div>');\r\n      rows = page.find('div.section.level2');\r\n    }\r\n\r\n    rows.each(function () {\r\n\r\n      // flags\r\n      var haveNotes = false;\r\n      var haveFlexHeight = true;\r\n\r\n      // remove the h2\r\n      $(this).children('h2').remove();\r\n\r\n      // check for a tabset\r\n      var isTabset = $(this).hasClass('tabset');\r\n      if (isTabset)\r\n        layoutTabset($(this));\r\n\r\n      // give it row layout semantics if it's not a tabset\r\n      if (!isTabset)\r\n        $(this).addClass('dashboard-row');\r\n\r\n      // find all of the level 3 subheads\r\n      var columns = $(this).find('div.section.level3');\r\n\r\n      // determine figureSizes sizes\r\n      var figureSizes = chartFigureSizes(columns);\r\n\r\n      // fixup the columns\r\n      columns.each(function(index) {\r\n\r\n        // layout the chart (force flex if we are in a tabset)\r\n        var result = layoutChart($(this), isTabset);\r\n\r\n        // update flexHeight state\r\n        if (!result.flex)\r\n          haveFlexHeight = false;\r\n\r\n        // update state\r\n        if (result.notes)\r\n          haveNotes = true;\r\n\r\n        // set the column flex based on the figure width\r\n        // (value boxes will just get the default figure width)\r\n        var chartWidth = figureSizes[index].width;\r\n        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');\r\n\r\n      });\r\n\r\n      // remove empty chart note divs\r\n      if (isTabset)\r\n        $(this).find('.chart-notes').filter(function() {\r\n            return $(this).html() === \"&nbsp;\";\r\n        }).remove();\r\n      if (!haveNotes)\r\n        $(this).find('.chart-notes').remove();\r\n\r\n       // make it a flexbox row\r\n      if (haveFlexHeight)\r\n        $(this).addClass('dashboard-row-flex');\r\n\r\n      // now we can set the height on all the wrappers (based on maximum\r\n      // figure height + room for title and notes, or data-height on the\r\n      // container if specified). However, don't do this if there is\r\n      // no flex on any of the constituent columns\r\n      var flexHeight = null;\r\n      var dataHeight = parseInt($(this).attr('data-height'));\r\n      if (dataHeight)\r\n        flexHeight = adjustedHeight(dataHeight, columns.first());\r\n      else if (haveFlexHeight)\r\n        flexHeight = maxChartHeight(figureSizes, columns);\r\n      if (flexHeight) {\r\n        if (fillPage)\r\n          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');\r\n        else {\r\n          $(this).css('height', flexHeight + 'px');\r\n          setFlex($(this), '0 0 ' + flexHeight + 'px');\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  function layoutPageByColumns(page, fillPage) {\r\n\r\n    // column orientation\r\n    page.addClass('dashboard-column-orientation');\r\n\r\n    // find all the level2 sections (those are the columns)\r\n    var columns = page.find('div.section.level2');\r\n\r\n    // if there are no level2 sections then treat the\r\n    // entire page as if it's a level 2 section\r\n    if (columns.length === 0) {\r\n      page.wrapInner('<div class=\"section level2\"><\/div>');\r\n      columns = page.find('div.section.level2');\r\n    }\r\n\r\n    // layout each column\r\n    columns.each(function (index) {\r\n\r\n      // remove the h2\r\n      $(this).children('h2').remove();\r\n\r\n      // make it a flexbox column\r\n      $(this).addClass('dashboard-column');\r\n\r\n      // check for a tabset\r\n      var isTabset = $(this).hasClass('tabset');\r\n      if (isTabset)\r\n        layoutTabset($(this));\r\n\r\n      // find all the h3 elements\r\n      var rows = $(this).find('div.section.level3');\r\n\r\n      // get the figure sizes for the rows\r\n      var figureSizes = chartFigureSizes(rows);\r\n\r\n      // column flex is the max row width (or data-width if specified)\r\n      var flexWidth;\r\n      var dataWidth = parseInt($(this).attr('data-width'));\r\n      if (dataWidth)\r\n        flexWidth = dataWidth;\r\n      else\r\n        flexWidth = maxChartWidth(figureSizes);\r\n      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');\r\n\r\n      // layout each chart\r\n      rows.each(function(index) {\r\n\r\n        // perform the layout\r\n        var result = layoutChart($(this), false);\r\n\r\n        // ice the notes if there are none\r\n        if (!result.notes)\r\n          $(this).find('.chart-notes').remove();\r\n\r\n        // set flex height based on figHeight, then adjust\r\n        if (result.flex) {\r\n          var chartHeight = figureSizes[index].height;\r\n          chartHeight = adjustedHeight(chartHeight, $(this));\r\n          if (fillPage)\r\n            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');\r\n          else {\r\n            $(this).css('height', chartHeight + 'px');\r\n            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  function chartFigureSizes(charts) {\r\n\r\n    // sizes\r\n    var figureSizes = new Array(charts.length);\r\n\r\n    // check each chart\r\n    charts.each(function(index) {\r\n\r\n      // start with default\r\n      figureSizes[index] = {\r\n        width: _options.defaultFigWidth,\r\n        height: _options.defaultFigHeight\r\n      };\r\n\r\n      // look for data-height or data-width then knit options\r\n      var dataWidth = parseInt($(this).attr('data-width'));\r\n      var dataHeight = parseInt($(this).attr('data-height'));\r\n      var knitrOptions = $(this).find('.knitr-options:first');\r\n      var knitrWidth, knitrHeight;\r\n      if (knitrOptions) {\r\n        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));\r\n        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));\r\n      }\r\n\r\n      // width\r\n      if (dataWidth)\r\n        figureSizes[index].width = dataWidth;\r\n      else if (knitrWidth)\r\n        figureSizes[index].width = knitrWidth;\r\n\r\n      // height\r\n      if (dataHeight)\r\n        figureSizes[index].height = dataHeight;\r\n      else if (knitrHeight)\r\n        figureSizes[index].height = knitrHeight;\r\n    });\r\n\r\n    // return sizes\r\n    return figureSizes;\r\n  }\r\n\r\n  function maxChartHeight(figureSizes, charts) {\r\n\r\n    // first compute the maximum height\r\n    var maxHeight = _options.defaultFigHeight;\r\n    for (var i = 0; i<figureSizes.length; i++)\r\n      if (figureSizes[i].height > maxHeight)\r\n        maxHeight = figureSizes[i].height;\r\n\r\n    // now add offests for chart title and chart notes\r\n    if (charts.length)\r\n      maxHeight = adjustedHeight(maxHeight, charts.first());\r\n\r\n    return maxHeight;\r\n  }\r\n\r\n  function adjustedHeight(height, chart) {\r\n    if (chart.length > 0) {\r\n      var chartTitle = chart.find('.chart-title');\r\n      if (chartTitle.length)\r\n        height += chartTitle.first().outerHeight();\r\n      var chartNotes = chart.find('.chart-notes');\r\n      if (chartNotes.length)\r\n        height += chartNotes.first().outerHeight();\r\n    }\r\n    return height;\r\n  }\r\n\r\n  function maxChartWidth(figureSizes) {\r\n    var maxWidth = _options.defaultFigWidth;\r\n    for (var i = 0; i<figureSizes.length; i++)\r\n      if (figureSizes[i].width > maxWidth)\r\n        maxWidth = figureSizes[i].width;\r\n    return maxWidth;\r\n  }\r\n\r\n  // layout a chart\r\n  function layoutChart(chart, forceFlex) {\r\n\r\n    // state to return\r\n    var result = {\r\n      notes: false,\r\n      flex: false\r\n    };\r\n\r\n    // extract the title\r\n    var title = extractTitle(chart);\r\n\r\n    // find components that apply to this container\r\n    var components = componentsFind(chart);\r\n\r\n    // if it's a custom component then call it and return\r\n    var customComponents = componentsCustom(components);\r\n    if (customComponents.length) {\r\n      componentsLayout(customComponents, title, chart);\r\n      result.notes = false;\r\n      result.flex = forceFlex || componentsFlex(customComponents);\r\n      return result;\r\n    }\r\n\r\n    // put all the content in a chart wrapper div\r\n    chart.addClass('chart-wrapper');\r\n    chart.wrapInner('<div class=\"chart-stage\"><\/div>');\r\n    var chartContent = chart.children('.chart-stage');\r\n\r\n    // flex the content if appropriate\r\n    result.flex = forceFlex || componentsFlex(components);\r\n    if (result.flex) {\r\n      // add flex classes\r\n      chart.addClass('chart-wrapper-flex');\r\n      chartContent.addClass('chart-stage-flex');\r\n\r\n      // additional shim to break out of flexbox sizing\r\n      chartContent.wrapInner('<div class=\"chart-shim\"><\/div>');\r\n      chartContent = chartContent.children('.chart-shim');\r\n    }\r\n\r\n    // set custom data-padding attribute\r\n    var pad = chart.attr('data-padding');\r\n    if (pad) {\r\n      if (pad === \"0\")\r\n        chart.addClass('no-padding');\r\n      else {\r\n        pad = pad + 'px';\r\n        chartContent.css('left', pad)\r\n                    .css('top', pad)\r\n                    .css('right', pad)\r\n                    .css('bottom', pad)\r\n      }\r\n    }\r\n\r\n    // call compoents\r\n    componentsLayout(components, title, chartContent);\r\n\r\n    // also activate components on shiny output\r\n    findShinyOutput(chartContent).on('shiny:value',\r\n      function(event) {\r\n        var element = $(event.target);\r\n        setTimeout(function() {\r\n\r\n          // see if we opted out of flex based on our output (for shiny\r\n          // we can't tell what type of output we have until after the\r\n          // value is bound)\r\n          var components = componentsFind(element);\r\n          var flex = forceFlex || componentsFlex(components);\r\n          if (!flex) {\r\n            chart.css('height', \"\");\r\n            setFlex(chart, \"\");\r\n            chart.removeClass('chart-wrapper-flex');\r\n            chartContent.removeClass('chart-stage-flex');\r\n            chartContent.children().unwrap();\r\n          }\r\n\r\n          // perform layout\r\n          componentsLayout(components, title, element.parent());\r\n        }, 10);\r\n      });\r\n\r\n    // add the title\r\n    var chartTitle = $('<div class=\"chart-title\"><\/div>');\r\n    chartTitle.append(title);\r\n    chart.prepend(chartTitle);\r\n\r\n    // add the notes section\r\n    var chartNotes = $('<div class=\"chart-notes\"><\/div>');\r\n    chartNotes.html('&nbsp;');\r\n    chart.append(chartNotes);\r\n\r\n    // attempt to extract notes if we have a component\r\n    if (components.length)\r\n      result.notes = extractChartNotes(chartContent, chartNotes);\r\n\r\n    // return result\r\n    return result;\r\n  }\r\n\r\n  // build a tabset from a section div with the .tabset class\r\n  function layoutTabset(tabset) {\r\n\r\n    // check for fade option\r\n    var fade = tabset.hasClass(\"tabset-fade\");\r\n    var navClass = \"nav-tabs\";\r\n\r\n    // determine the heading level of the tabset and tabs\r\n    var match = tabset.attr('class').match(/level(\\d) /);\r\n    if (match === null)\r\n      return;\r\n    var tabsetLevel = Number(match[1]);\r\n    var tabLevel = tabsetLevel + 1;\r\n\r\n    // find all subheadings immediately below\r\n    var tabs = tabset.find(\"div.section.level\" + tabLevel);\r\n    if (!tabs.length)\r\n      return;\r\n\r\n    // create tablist and tab-content elements\r\n    var tabList = $('<ul class=\"nav ' + navClass + '\" role=\"tablist\"><\/ul>');\r\n    $(tabs[0]).before(tabList);\r\n    var tabContent = $('<div class=\"tab-content\"><\/div>');\r\n    $(tabs[0]).before(tabContent);\r\n\r\n    // build the tabset\r\n    tabs.each(function(i) {\r\n\r\n      // get the tab div\r\n      var tab = $(tabs[i]);\r\n\r\n      // get the id then sanitize it for use with bootstrap tabs\r\n      var id = tab.attr('id');\r\n\r\n      // sanitize the id for use with bootstrap tabs\r\n      id = id.replace(/[.\\/?&!#<>]/g, '').replace(/\\s/g, '_');\r\n      tab.attr('id', id);\r\n\r\n      // get the heading element within it and grab it's text\r\n      var heading = tab.find('h' + tabLevel + ':first');\r\n      var headingDom = heading.contents();\r\n\r\n      // build and append the tab list item\r\n      var a = $('<a role=\"tab\" data-toggle=\"tab\"><\/a>');\r\n      a.append(headingDom);\r\n      a.attr('href', '#' + id);\r\n      a.attr('aria-controls', id);\r\n      var li = $('<li role=\"presentation\"><\/li>');\r\n      li.append(a);\r\n      if (i === 0)\r\n        li.attr('class', 'active');\r\n      tabList.append(li);\r\n\r\n      // set it's attributes\r\n      tab.attr('role', 'tabpanel');\r\n      tab.addClass('tab-pane');\r\n      tab.addClass('tabbed-pane');\r\n      tab.addClass('no-title');\r\n      if (fade)\r\n        tab.addClass('fade');\r\n      if (i === 0) {\r\n        tab.addClass('active');\r\n        if (fade)\r\n          tab.addClass('in');\r\n      }\r\n\r\n      // move it into the tab content div\r\n      tab.detach().appendTo(tabContent);\r\n    });\r\n\r\n    // add nav-tabs-custom\r\n    tabset.addClass('nav-tabs-custom');\r\n\r\n    // internal layout is dashboard-column with tab-content flexing\r\n    tabset.addClass('dashboard-column');\r\n    setFlex(tabContent, 1);\r\n  }\r\n\r\n  // one time global initialization for components\r\n  function componentsInit(dashboardContainer) {\r\n    for (var i=0; i<window.FlexDashboardComponents.length; i++) {\r\n      var component = window.FlexDashboardComponents[i];\r\n      if (component.init)\r\n        component.init(dashboardContainer);\r\n    }\r\n  }\r\n\r\n  // find components that apply within a container\r\n  function componentsFind(container) {\r\n\r\n    // look for components\r\n    var components = [];\r\n    for (var i=0; i<window.FlexDashboardComponents.length; i++) {\r\n      var component = window.FlexDashboardComponents[i];\r\n      if (component.find(container).length)\r\n        components.push(component);\r\n    }\r\n\r\n    // if there were none then use a special flowing content component\r\n    // that just adds a scrollbar in fillPage mode\r\n    if (components.length == 0) {\r\n      components.push({\r\n        find: function(container) {\r\n          return container;\r\n        },\r\n\r\n        flex: function(fillPage) {\r\n          return fillPage;\r\n        },\r\n\r\n        layout: function(title, container, element, fillPage) {\r\n          if (fillPage) {\r\n            container.addClass('flowing-content-shim');\r\n            container.addClass('flowing-content-container');\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return components;\r\n  }\r\n\r\n  // if there is a custom component then pick it out\r\n  function componentsCustom(components) {\r\n    var customComponent = [];\r\n    for (var i=0; i<components.length; i++)\r\n      if (components[i].type === \"custom\") {\r\n        customComponent.push(components[i]);\r\n        break;\r\n      }\r\n    return customComponent;\r\n  }\r\n\r\n  // query all components for flex\r\n  function componentsFlex(components) {\r\n\r\n    // no components at all means no flex\r\n    if (components.length === 0)\r\n      return false;\r\n\r\n    // otherwise query components (assume true unless we see false)\r\n    var isMobile = isMobilePhone();\r\n    for (var i=0; i<components.length; i++)\r\n      if (components[i].flex && !components[i].flex(_options.fillPage))\r\n        return false;\r\n    return true;\r\n  }\r\n\r\n  // layout all components\r\n  function componentsLayout(components, title, container) {\r\n    var isMobile = isMobilePhone();\r\n    for (var i=0; i<components.length; i++) {\r\n      var element = components[i].find(container);\r\n      if (components[i].layout) {\r\n        // call layout (don't call other components if it returns false)\r\n        var result = components[i].layout(title, container, element, _options.fillPage);\r\n        if (result === false)\r\n          return;\r\n      }\r\n    }\r\n  }\r\n\r\n  // get a reference to the h3, discover it's inner html, and remove it\r\n  function extractTitle(container) {\r\n    var h3 = container.children('h3').first();\r\n    var title = '';\r\n    if (!container.hasClass('no-title'))\r\n      title = h3.contents();\r\n    h3.detach();\r\n    return title;\r\n  }\r\n\r\n  // extract chart notes\r\n  function extractChartNotes(chartContent, chartNotes) {\r\n    // look for a terminating blockquote or image caption\r\n    var blockquote = chartContent.children('blockquote:last-child');\r\n    var caption = chartContent.children('div.image-container')\r\n                              .children('p.caption');\r\n    if (blockquote.length) {\r\n      chartNotes.empty().append(blockquote.children('p:first-child').contents());\r\n      blockquote.remove();\r\n      return true;\r\n    } else if (caption.length) {\r\n      chartNotes.empty().append(caption.contents());\r\n      caption.remove();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function findShinyOutput(chartContent) {\r\n    return chartContent.find('.shiny-text-output, .shiny-html-output');\r\n  }\r\n\r\n  // safely detect rendering on a mobile phone\r\n  function isMobilePhone() {\r\n    try\r\n    {\r\n      return ! window.matchMedia(\"only screen and (min-width: 768px)\").matches;\r\n    }\r\n    catch(e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function isFillPage() {\r\n    return _options.fillPage;\r\n  }\r\n\r\n  // detect portrait mode\r\n  function isPortrait() {\r\n    return ($(window).width() < $(window).height());\r\n  }\r\n\r\n  // safely detect rendering on a tablet\r\n  function isTablet() {\r\n    try\r\n    {\r\n      return window.matchMedia(\"only screen and (min-width: 769px) and (max-width: 992px)\").matches;\r\n    }\r\n    catch(e) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // test whether this is a shiny doc\r\n  function isShinyDoc() {\r\n    return (typeof(window.Shiny) !== \"undefined\" && !!window.Shiny.outputBindings);\r\n  }\r\n\r\n  // set flex using vendor specific prefixes\r\n  function setFlex(el, flex) {\r\n    el.css('-webkit-box-flex', flex)\r\n      .css('-webkit-flex', flex)\r\n      .css('-ms-flex', flex)\r\n      .css('flex', flex);\r\n  }\r\n\r\n  // support bookmarking of pages\r\n  function handleLocationHash() {\r\n\r\n    // restore tab/page from bookmark\r\n    var hash = window.decodeURIComponent(window.location.hash);\r\n    if (hash.length > 0)\r\n      $('ul.nav a[href=\"' + hash + '\"]').tab('show');\r\n    FlexDashboardUtils.manageActiveNavbarMenu();\r\n\r\n    // navigate to a tab when the history changes\r\n    window.addEventListener(\"popstate\", function(e) {\r\n      var hash = window.decodeURIComponent(window.location.hash);\r\n      var activeTab = $('ul.nav a[href=\"' + hash + '\"]');\r\n      if (activeTab.length) {\r\n        activeTab.tab('show');\r\n      } else {\r\n        $('ul.nav a:first').tab('show');\r\n      }\r\n      FlexDashboardUtils.manageActiveNavbarMenu();\r\n    });\r\n\r\n    // add a hash to the URL when the user clicks on a tab/page\r\n    $('.navbar-nav a[data-toggle=\"tab\"]').on('click', function(e) {\r\n      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);\r\n      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));\r\n      var href = baseUrl + hash;\r\n      FlexDashboardUtils.setLocation(href);\r\n    });\r\n\r\n    // handle clicks of other links that should activate pages\r\n    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');\r\n    navPages.each(function() {\r\n      var href =  $(this).attr('href');\r\n      var links = $('a[href=\"' + href + '\"][data-toggle!=tab]');\r\n      links.each(function() {\r\n        $(this).on('click', function(e) {\r\n          window.FlexDashboardUtils.showPage(href);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  // tweak Prism highlighting\r\n  function initPrismHighlighting() {\r\n\r\n    if (window.Prism) {\r\n      Prism.languages.insertBefore('r', 'comment', {\r\n        'heading': [\r\n          {\r\n            // title 1\r\n        \t  // =======\r\n\r\n        \t  // title 2\r\n        \t  // -------\r\n        \t  pattern: /\\w+.*(?:\\r?\\n|\\r)(?:====+|----+)/,\r\n            alias: 'operator'\r\n          },\r\n          {\r\n            // ### title 3\r\n            pattern: /(^\\s*)###[^#].+/m,\r\n            lookbehind: true,\r\n            alias: 'operator'\r\n          }\r\n        ]\r\n      });\r\n\r\n      // prism highlight\r\n      Prism.highlightAll();\r\n    }\r\n  }\r\n\r\n\r\n  // get theme color\r\n  var themeColors = {\r\n    bootstrap: {\r\n      primary: \"rgba(51, 122, 183, 0.4)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    cerulean: {\r\n      primary: \"rgb(47, 164, 231)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    journal: {\r\n      primary: \"rgba(235, 104, 100, 0.70)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    flatly: {\r\n      primary: \"rgba(44, 62, 80, 0.70)\",\r\n      info: \"rgba(52, 152, 219, 0.70)\",\r\n      success: \"rgba(24, 188, 156, 0.70)\",\r\n      warning: \"rgba(243, 156, 18, 0.70)\",\r\n      danger: \"rgba(231, 76, 60, 0.70)\"\r\n    },\r\n    readable: {\r\n      primary: \"rgba(69, 130, 236, 0.4)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    spacelab: {\r\n      primary: \"rgba(68, 110, 155, 0.25)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    united: {\r\n      primary: \"rgba(221, 72, 20, 0.30)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    cosmo: {\r\n      primary: \"rgba(39, 128, 227, 0.7)\",\r\n      info: \"rgba(153, 84, 187, 0.7)\",\r\n      success: \"rgba(63, 182, 24, 0.7)\",\r\n      warning: \"rgba(255, 117, 24, 0.7)\",\r\n      danger: \"rgba(255, 0, 57, 0.7)\"\r\n    },\r\n    lumen: {\r\n      primary: \"rgba(21, 140, 186, 0.70)\",\r\n      info: \"rgba(117, 202, 235, 0.90)\",\r\n      success: \"rgba(40, 182, 44, 0.70)\",\r\n      warning: \"rgba(255, 133, 27, 0.70)\",\r\n      danger: \"rgba(255, 65, 54, 0.70)\"\r\n    },\r\n    paper: {\r\n      primary: \"rgba(33, 150, 243, 0.35)\",\r\n      info: \"rgb(225, 190, 231)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(255, 224, 178)\",\r\n      danger: \"rgb(249, 189, 187)\"\r\n    },\r\n    sandstone: {\r\n      primary: \"rgba(50, 93, 136, 0.3)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    simplex: {\r\n      primary: \"rgba(217, 35, 15, 0.25)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    },\r\n    yeti: {\r\n      primary: \"rgba(0, 140, 186, 0.298039)\",\r\n      info: \"rgb(217, 237, 247)\",\r\n      success: \"rgb(223, 240, 216)\",\r\n      warning: \"rgb(252, 248, 227)\",\r\n      danger: \"rgb(242, 222, 222)\"\r\n    }\r\n  }\r\n  function themeColor(color) {\r\n    return themeColors[_options.theme][color];\r\n  }\r\n\r\n  FlexDashboard.prototype = {\r\n    constructor: FlexDashboard,\r\n    init: init,\r\n    isMobilePhone: isMobilePhone,\r\n    isFillPage: isFillPage,\r\n    themeColor: themeColor\r\n  };\r\n\r\n  return FlexDashboard;\r\n\r\n})();\r\n\r\n// utils\r\nwindow.FlexDashboardUtils = {\r\n  resizableImage: function(img) {\r\n    var src = img.attr('src');\r\n    var url = 'url(\"' + src + '\")';\r\n    img.parent().css('background', url)\r\n                .css('background-size', 'contain')\r\n                .css('background-repeat', 'no-repeat')\r\n                .css('background-position', 'center')\r\n                .addClass('image-container');\r\n  },\r\n  setLocation: function(href) {\r\n    if (history && history.pushState) {\r\n      history.pushState(null, null, href);\r\n    } else {\r\n      window.location.replace(href);\r\n    }\r\n    setTimeout(function() {\r\n        window.scrollTo(0, 0);\r\n    }, 10);\r\n    this.manageActiveNavbarMenu();\r\n  },\r\n  showPage: function(href) {\r\n    $('ul.navbar-nav li a[href=\"' + href + '\"]').tab('show');\r\n    var baseUrl = this.urlWithoutHash(window.location.href);\r\n    var loc = baseUrl + href;\r\n    this.setLocation(loc);\r\n  },\r\n  showLinkedValue: function(href) {\r\n    // check for a page link\r\n    if ($('ul.navbar-nav li a[data-toggle=tab][href=\"' + href + '\"]').length > 0)\r\n      this.showPage(href);\r\n    else\r\n      window.open(href);\r\n  },\r\n  urlWithoutHash: function(url) {\r\n    var hashLoc = url.indexOf('#');\r\n    if (hashLoc != -1)\r\n      return url.substring(0, hashLoc);\r\n    else\r\n      return url;\r\n  },\r\n  urlHash: function(url) {\r\n    var hashLoc = url.indexOf('#');\r\n    if (hashLoc != -1)\r\n      return url.substring(hashLoc);\r\n    else\r\n      return \"\";\r\n  },\r\n  manageActiveNavbarMenu: function () {\r\n    // remove active from anyone currently active\r\n    $('.navbar ul.nav').find('li').removeClass('active');\r\n    // find the active tab\r\n    var activeTab = $('.dashboard-page-wrapper.tab-pane.active');\r\n    if (activeTab.length > 0) {\r\n      var tabId = activeTab.attr('id');\r\n      if (tabId)\r\n        $(\".navbar ul.nav a[href='#\" + tabId + \"']\").parents('li').addClass('active');\r\n    }\r\n  }\r\n};\r\n\r\nwindow.FlexDashboard = new FlexDashboard();\r\n\r\n// empty content\r\nwindow.FlexDashboardComponents.push({\r\n  find: function(container) {\r\n    if (container.find('p').length == 0)\r\n      return container;\r\n    else\r\n      return $();\r\n  }\r\n})\r\n\r\n// plot image\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    return container.children('p')\r\n                    .children('img:only-child');\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n    FlexDashboardUtils.resizableImage(element);\r\n  }\r\n});\r\n\r\n// plot image (figure style)\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    return container.children('div.figure').children('img');\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n    FlexDashboardUtils.resizableImage(element);\r\n  }\r\n});\r\n\r\n// htmlwidget\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  init: function(dashboardContainer) {\r\n    // trigger \"shown\" after initial layout to force static htmlwidgets\r\n    // in runtime: shiny to be resized after the dom has been transformed\r\n    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {\r\n      setTimeout(function() {\r\n        dashboardContainer.trigger('shown');\r\n      }, 200);\r\n    });\r\n  },\r\n\r\n  find: function(container) {\r\n    return container.children('div[id^=\"htmlwidget-\"],div.html-widget');\r\n  }\r\n});\r\n\r\n// gauge\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    return container.children('div.html-widget.gauge');\r\n  },\r\n\r\n  flex: function(fillPage) {\r\n    return false;\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n\r\n\r\n  }\r\n\r\n});\r\n\r\n// shiny output\r\nwindow.FlexDashboardComponents.push({\r\n  find: function(container) {\r\n    return container.children('div[class^=\"shiny-\"]');\r\n  }\r\n});\r\n\r\n// datatables\r\nwindow.FlexDashboardComponents.push({\r\n  find: function(container) {\r\n    return container.find('.datatables');\r\n  },\r\n  flex: function(fillPage) {\r\n    return fillPage;\r\n  }\r\n});\r\n\r\n// bootstrap table\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    var bsTable = container.find('table.table');\r\n    if (bsTable.length !== 0)\r\n      return bsTable;\r\n    else\r\n      return container.find('tr.header').parent('thead').parent('table');\r\n  },\r\n\r\n  flex: function(fillPage) {\r\n    return fillPage;\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n\r\n    // alias variables\r\n    var bsTable = element;\r\n\r\n    // fixup xtable generated tables with a proper thead\r\n    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();\r\n    if (headerRow.length > 0) {\r\n      var thead = $('<thead><\/thead>');\r\n      bsTable.prepend(thead);\r\n      headerRow.detach().appendTo(thead);\r\n    }\r\n\r\n    // improve appearance\r\n    container.addClass('bootstrap-table');\r\n\r\n    // for fill page provide scrolling w/ sticky headers\r\n    if (fillPage) {\r\n      // force scrollbar on overflow\r\n      container.addClass('flowing-content-shim');\r\n\r\n      // stable table headers when scrolling\r\n      bsTable.stickyTableHeaders({\r\n        scrollableArea: container\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\n// embedded shiny app\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    return container.find('iframe.shiny-frame');\r\n  },\r\n\r\n  flex: function(fillPage) {\r\n    return fillPage;\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n    if (fillPage) {\r\n      element.attr('height', '100%');\r\n    } else {\r\n      // provide default height if necessary\r\n      var height = element.get(0).style.height;\r\n      if (!height)\r\n        height = element.attr('height');\r\n      if (!height)\r\n        element.attr('height', 500);\r\n    }\r\n  }\r\n});\r\n\r\n// shiny fillRow or fillCol\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  find: function(container) {\r\n    return container.find('.flexfill-container');\r\n  },\r\n\r\n  flex: function(fillPage) {\r\n    return fillPage;\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n    if (fillPage)\r\n      element.css('height', '100%');\r\n    else {\r\n      // provide default height if necessary\r\n      var height = element.get(0).style.height;\r\n      if (height === \"100%\" || height === \"auto\" || height === \"initial\" ||\r\n          height === \"inherit\" || !height) {\r\n        element.css('height', 500);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n// valueBox\r\nwindow.FlexDashboardComponents.push({\r\n\r\n  type: \"custom\",\r\n\r\n  find: function(container) {\r\n    if (container.find('span.value-output, .shiny-valuebox-output').length)\r\n      return container;\r\n    else\r\n      return $();\r\n  },\r\n\r\n  flex: function(fillPage) {\r\n    return false;\r\n  },\r\n\r\n  layout: function(title, container, element, fillPage) {\r\n\r\n    // alias variables\r\n    var chartTitle = title;\r\n    var valueBox = element;\r\n\r\n    // add value-box class to container\r\n    container.addClass('value-box');\r\n\r\n    // value paragraph\r\n    var value = $('<p class=\"value\"><\/p>');\r\n\r\n    // if we have shiny-text-output then just move it in\r\n    var valueOutputSpan = [];\r\n    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();\r\n    if (shinyOutput.length) {\r\n      valueBox.children().remove();\r\n      shinyOutput.html(\"&mdash;\");\r\n      value.append(shinyOutput);\r\n    } else {\r\n      // extract the value (remove leading vector index)\r\n      var chartValue = valueBox.text().trim();\r\n      chartValue = chartValue.replace(\"[1] \", \"\");\r\n      valueOutputSpan = valueBox.find('span.value-output').detach();\r\n      valueBox.children().remove();\r\n      value.text(chartValue);\r\n    }\r\n\r\n    // caption\r\n    var caption = $('<p class=\"caption\"><\/p>');\r\n    caption.append(chartTitle);\r\n\r\n    // build inner div for value box and add it\r\n    var inner = $('<div class=\"inner\"><\/div>');\r\n    inner.append(value);\r\n    inner.append(caption);\r\n    valueBox.append(inner);\r\n\r\n    // add icon if specified\r\n    var icon = $('<div class=\"icon\"><i><\/i><\/div>');\r\n    valueBox.append(icon);\r\n    function setIcon(chartIcon) {\r\n      var iconLib = \"\";\r\n      var iconSplit = chartIcon.split(\" \");\r\n      if (iconSplit.length > 1) {\r\n        iconLib = iconSplit[0];\r\n        chartIcon = iconSplit.slice(1).join(\" \");\r\n      } else {\r\n        var components = chartIcon.split(\"-\");\r\n        if (components.length > 1)\r\n          iconLib = components[0];\r\n      }\r\n      icon.children('i').attr('class', iconLib + ' ' + chartIcon);\r\n    }\r\n    var chartIcon = valueBox.attr('data-icon');\r\n    if (chartIcon)\r\n      setIcon(chartIcon);\r\n\r\n    // set color based on data-background if necessary\r\n    var dataBackground = valueBox.attr('data-background');\r\n    if (dataBackground)\r\n      valueBox.css('background-color', bgColor);\r\n    else {\r\n      // default to bg-primary if no other background is specified\r\n      if (!valueBox.hasClass('bg-primary') &&\r\n          !valueBox.hasClass('bg-info') &&\r\n          !valueBox.hasClass('bg-warning') &&\r\n          !valueBox.hasClass('bg-success') &&\r\n          !valueBox.hasClass('bg-danger')) {\r\n        valueBox.addClass('bg-primary');\r\n      }\r\n    }\r\n\r\n    // handle data attributes in valueOutputSpan\r\n    function handleValueOutput(valueOutput) {\r\n\r\n      // caption\r\n      var dataCaption = valueOutput.attr('data-caption');\r\n      if (dataCaption)\r\n        caption.html(dataCaption);\r\n\r\n      // icon\r\n      var dataIcon = valueOutput.attr('data-icon');\r\n      if (dataIcon)\r\n        setIcon(dataIcon);\r\n\r\n      // color\r\n      var dataColor = valueOutput.attr('data-color');\r\n      if (dataColor) {\r\n        if (dataColor.indexOf('bg-') === 0) {\r\n          valueBox.css('background-color', '');\r\n          if (!valueBox.hasClass(dataColor)) {\r\n             valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');\r\n             valueBox.addClass(dataColor);\r\n          }\r\n        } else {\r\n          valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');\r\n          valueBox.css('background-color', dataColor);\r\n        }\r\n      }\r\n\r\n      // url\r\n      var dataHref = valueOutput.attr('data-href');\r\n      if (dataHref) {\r\n        valueBox.addClass('linked-value');\r\n        valueBox.off('click.value-box');\r\n        valueBox.on('click.value-box', function(e) {\r\n          window.FlexDashboardUtils.showLinkedValue(dataHref);\r\n        });\r\n      }\r\n    }\r\n\r\n    // check for a valueOutputSpan\r\n    if (valueOutputSpan.length > 0) {\r\n      handleValueOutput(valueOutputSpan);\r\n    }\r\n\r\n    // if we have a shinyOutput then bind a listener to handle\r\n    // new valueOutputSpan values\r\n    shinyOutput.on('shiny:value',\r\n      function(event) {\r\n        var element = $(event.target);\r\n        setTimeout(function() {\r\n          var valueOutputSpan = element.find('span.value-output');\r\n          if (valueOutputSpan.length > 0)\r\n            handleValueOutput(valueOutputSpan);\r\n        }, 10);\r\n      }\r\n    );\r\n  }\r\n});\r\n\r\n\r\n\r\nColumn\r\n\r\nTablero\r\n\r\n\r\n\r\n# A tibble: 6 x 7\r\n  variable                                Año Mujeres Varones Total Brecha Ratio\r\n  <chr>                                 <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl>\r\n1 ASPIRACIÓN                             2021      50      50   100      0 1    \r\n2 EJEMPLO                                2021      30      70   100    -40 0.429\r\n3 Cantidad de personas interesadas       2017    5000    5000 10000      0 1    \r\n4 Cantidad de inscripciones              2017    1000    2000  3000  -1000 0.5  \r\n5 Cantidad  de tests de ingreso          2017     350    1500  1850  -1150 0.233\r\n6 Cantidad de aprobaciones al test de ~  2017     300    1200  1500   -900 0.25 \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nColumn\r\n\r\nBrecha (mujeres - varones)/total\r\n\r\n\r\n\r\n\r\n\r\n\r\nRatio (mujeres/varones)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$(document).ready(function () {\r\n\r\n  // add bootstrap table styles to pandoc tables\r\n  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');\r\n\r\n  // initialize mathjax\r\n  var script = document.createElement(\"script\");\r\n  script.type = \"text/javascript\";\r\n  script.src  = \"https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\";\r\n  document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n\r\n});\r\n\r\n$(document).ready(function () {\r\n  FlexDashboard.init({\r\n    theme: \"cosmo\",\r\n    fillPage: true,\r\n    orientation: \"columns\",\r\n    storyboard: false,\r\n    defaultFigWidth: 576,\r\n    defaultFigHeight: 460,\r\n    defaultFigWidthMobile: 360,\r\n    defaultFigHeightMobile: 460,\r\n    resize_reload: true\r\n  });\r\n});\r\n",
      "last_modified": "2022-01-14T10:04:11+00:00"
    }
  ],
  "collections": []
}
